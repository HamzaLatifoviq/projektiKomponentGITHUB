@model projektiKomponentGITHUB.Models.Payment

@{
    ViewBag.Title = "PagesatView";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

@if (ViewBag.Errors != null)
{
    <div class="alert alert-danger">
        <ul>
            @foreach (var error in (List<string>)ViewBag.Errors)
            {
                <li>@error</li>
            }
        </ul>
    </div>
}

<style>
    body {
        font-family: 'Inter', sans-serif;
        background-color: #f7f7f7;
        padding: 0;
        margin: 0;
    }

    .booking-style-form {
        max-width: 760px;
        margin: 50px auto;
        background: #ffffff;
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

        .booking-style-form h2 {
            font-size: 28px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 30px;
            text-align: center;
        }

    .form-label {
        font-weight: 500;
        color: #333;
        margin-bottom: 10px;
    }

    .form-control, .form-select {
        border: 1px solid #e1e1e1;
        border-radius: 8px;
        padding: 14px;
        font-size: 16px;
        transition: border 0.3s ease-in-out;
    }

        .form-control:focus, .form-select:focus {
            border-color: #0071c2;
            box-shadow: none;
        }

    .btn-booking {
        background-color: #0071c2;
        color: white;
        font-weight: 600;
        border: none;
        padding: 16px 32px;
        font-size: 16px;
        border-radius: 8px;
        margin-top: 30px;
        width: 100%;
        cursor: pointer;
        transition: background-color 0.3s ease-in-out;
    }

        .btn-booking:hover {
            background-color: #005b9f;
        }

    .form-group {
        margin-bottom: 25px;
    }

    .col-md-6 {
        margin-bottom: 30px;
    }

    .row .col-md-6 {
        margin-bottom: 30px;
    }

    .text-end {
        text-align: center;
    }

    .form-control, .form-select {
        background-color: #fafafa;
    }

        .form-control:focus, .form-select:focus {
            background-color: #ffffff;
        }

    /*Shtuar seksioni per metodat e pageses */
    .payment-methods {
        margin-top: 40px;
        text-align: center;
    }

        .payment-methods h4 {
            font-size: 18px;
            color: #333;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .payment-methods img {
            width: 80px;
            height: auto;
            margin: 0 15px;
            max-width: 100%;
        }

        /* Sigurohuni qe imazhet te kenë permasat e duhura dhe te mos  deformohen */
        .payment-methods img {
            max-width: 120px; /* Rregullon madhesinee e logove*/
            width: auto;
            height: 40px; /* Siguron qe imazhet te shfaqen me nje lartesi te njejte */
        }
</style>

<div class="booking-style-form">
    <h2>Detajet e Pagesës</h2>

    @using (Html.BeginForm("PagesatView", "PagesaTransaksionet", FormMethod.Post))
    {
        @Html.AntiForgeryToken()
        <div class="row g-3">

            <div class="col-md-6 form-group">
                <label class="form-label">Emri</label>
                @Html.TextBoxFor(m => m.Emri, new { @class = "form-control", placeholder = "Ardit", required = "required" })
            </div>
            <div class="col-md-6 form-group">
                <label class="form-label">Mbiemri</label>
                @Html.TextBoxFor(m => m.Mbiemri, new { @class = "form-control", placeholder = "Hoxha", required = "required" })
            </div>
            <div class="col-md-6 form-group">
                <label class="form-label">Email-i</label>
                @Html.TextBoxFor(m => m.Emaili, new { @class = "form-control", placeholder = "shembull@email.com", type = "email", required = "required" })
            </div>
            <div class="col-md-6 form-group">
                <label class="form-label">Adresa</label>
                @Html.TextBoxFor(m => m.Adresa, new { @class = "form-control", placeholder = "Rruga e Dibrës, Tiranë", required = "required" })
            </div>
            <div class="col-md-6 form-group">
                <label class="form-label">Numri i Telefonit</label>
                @Html.TextBoxFor(m => m.NumriTelefonit, new { @class = "form-control", placeholder = "+355 69 123 4567", required = "required" })
            </div>
            <div class="col-md-6 form-group">
                <label class="form-label">Numri i Kartës</label>
                @Html.TextBoxFor(m => m.NumriKartes, new { @class = "form-control", placeholder = "1234 5678 9012 3456", required = "required" })
            </div>
            <div class="col-md-6 form-group">
                <label class="form-label">Data e Skadimit</label>
                @Html.TextBoxFor(m => m.DataSkadimit, "{0:yyyy-MM-dd}", new { @class = "form-control", type = "date", required = "required" })
            </div>
            <div class="col-md-6 form-group">
                <label class="form-label">CVV</label>
                @Html.TextBoxFor(m => m.CVV, new { @class = "form-control", placeholder = "123", required = "required" })
            </div>
            <div class="col-md-6 form-group">
                <label class="form-label">Mënyra e Pagesës</label>
                @Html.DropDownListFor(m => m.MenyraPageses, new SelectList(new[] {
                    new { Value = "", Text = "Zgjidh metodën" },
                    new { Value = "card", Text = "Kartë Krediti/Debiti" },
                    new { Value = "bank", Text = "Transfer Bankar" }
                }, "Value", "Text"), new { @class = "form-select", required = "required" })
            </div>
            <div class="col-md-6 form-group">
                <label class="form-label">Shuma (€)</label>
                @Html.TextBoxFor(m => m.Shuma, new { @class = "form-control", placeholder = "150.00", type = "number", step = "0.01", required = "required" })
            </div>

            <!-- Hidden or auto-set fields -->
            @Html.HiddenFor(m => m.DataPageses, new { Value = DateTime.Now.ToString("yyyy-MM-dd") })
            @Html.HiddenFor(m => m.PaymentStatus, new { Value = "Pending" })
        </div>

        <div class="text-end">
            <button type="submit" class="btn btn-booking">
                Kryej Pagesën
            </button>
        </div>
    }

    <div class="payment-methods">
        <h4>We accept the following secure payment methods:</h4>
        <img src="~/Content/ValmirFoto/Visa.jpg" alt="Visa" />
        <img src="~/Content/ValmirFoto/Mastercard.jpg" alt="MasterCard" />
    </div>
</div>